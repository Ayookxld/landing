_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[80],{Ifnm:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return b})),a.d(t,"default",(function(){return u}));var n=a("dhJC"),r=a("cpVT"),o=(a("q1tI"),a("7ljp")),i=a("aArQ");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c,b={__resourcePath:"docs/server/t4/setting-up-a-server.md",__scans:{},title:"Setting up a server",layout:"index"},p=(c="Alert",function(e){return console.warn("Component "+c+" was not imported, exported, or provided by MDXProvider as global scope"),Object(o.b)("div",s({},e))}),m={frontMatter:b},d=i.a;function u(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(o.b)(d,s(s(s({},m),a),{},{components:t,mdxType:"MDXLayout"}),Object(o.b)("h1",s({},{id:"setting-up-a-server"}),"Setting up a server",Object(o.b)("a",s({parentName:"h1"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#setting-up-a-server"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("h2",s({},{id:"requirements"}),"Requirements",Object(o.b)("a",s({parentName:"h2"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#requirements"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"A PC/VPS, running either Windows 10 or Windows Server 2019."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",s({parentName:"li"},{href:"#port-forwarding"}),"Knowledge on how to port forward")),Object(o.b)("li",{parentName:"ul"},"A Plutonium forum account"),Object(o.b)("li",{parentName:"ul"},"Notepad++/Any other code editor"),Object(o.b)("li",{parentName:"ul"},"A Copy of the game installed in ",Object(o.b)("inlineCode",{parentName:"li"},"C:\\gameserver\\T4"),".")),Object(o.b)("p",null,Object(o.b)("img",s({parentName:"p"},{src:"/images/docs/server/t4/setting-up-a-server/9gBLKYe.png",alt:"img"}))),Object(o.b)("h2",s({},{id:"1-preparation"}),"1. Preparation",Object(o.b)("a",s({parentName:"h2"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#1-preparation"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Download the ",Object(o.b)("a",s({parentName:"p"},{href:"https://cdn.plutonium.pw/updater/plutonium.exe"}),"Plutonium Launcher"),", and place it in your server folder.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run ",Object(o.b)("inlineCode",{parentName:"p"},"plutonium"),", so it can download the required files.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Download the ",Object(o.b)("a",s({parentName:"p"},{href:"https://github.com/xerxes-at/T4ServerConfigs/archive/refs/heads/main.zip"}),"T4 Config Files"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Save/Extract the configs to ",Object(o.b)("inlineCode",{parentName:"p"},"C:\\gameserver\\T4")))),Object(o.b)("p",null,Object(o.b)("img",s({parentName:"p"},{src:"/images/docs/server/t4/setting-up-a-server/rHwzjTo.png",alt:"img"}))),Object(o.b)("h3",s({},{id:"12-creating-a-server-key"}),"1.2 Creating a server key",Object(o.b)("a",s({parentName:"h3"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#12-creating-a-server-key"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Open the ",Object(o.b)("a",s({parentName:"p"},{href:"https://platform.plutonium.pw/serverkeys"}),"Plutonium Server Key page"),".")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Fill in the name of the server and select the correct game.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click on create, then copy the server key.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Paste the key into the start bat under ",Object(o.b)("inlineCode",{parentName:"p"},"set key=xxxx"),", replace ",Object(o.b)("inlineCode",{parentName:"p"},"xxxx")," with your key."))),Object(o.b)("p",null,Object(o.b)("img",s({parentName:"p"},{src:"/images/docs/server/t4/setting-up-a-server/CA9Ryjp.png",alt:"img"}))),Object(o.b)("h2",s({},{id:"2-basic-server-configuration"}),"2. Basic server configuration",Object(o.b)("a",s({parentName:"h2"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#2-basic-server-configuration"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("p",null,"1","."," Open the start.bat file for the server you want, make sure you note down the port it is using. If you are hosting a server on the same machine you are running the game from, please change the port number to something different (",Object(o.b)("inlineCode",{parentName:"p"},"28963")," for example).",Object(o.b)("br",{parentName:"p"}),"\n","2","."," Edit your ",Object(o.b)("inlineCode",{parentName:"p"},"server.cfg")," file with whatever changes you want (i.e. RCON Password/Map Rotation/Round Limits/etc/etc).",Object(o.b)("br",{parentName:"p"}),"\n","3","."," Double click the bat file.",Object(o.b)("br",{parentName:"p"}),"\n","4","."," Wait for the server to finish loading.  "),Object(o.b)("p",null,Object(o.b)("img",s({parentName:"p"},{src:"/images/docs/server/t4/setting-up-a-server/0BaYCo6.png",alt:"img"}))),Object(o.b)("h2",s({},{id:"port-forwarding"}),"Port Forwarding",Object(o.b)("a",s({parentName:"h2"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#port-forwarding"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("p",null,'Hosting a game server requires you to port forward to make your server accessible from outside of your network. Since every router is different we can\'t make a guide for every router so we recommend searching "your router name + port forward" on Google. ',Object(o.b)("strong",{parentName:"p"},"Port forward the port you specified in your start.bat file.")),Object(o.b)("p",null,"You will also need to add the port to your Windows Firewall, refer to this ",Object(o.b)("a",s({parentName:"p"},{href:"https://www.tomshardware.com/news/how-to-open-firewall-ports-in-windows-10,36451.html"}),"Tom's Hardware article"),"."),Object(o.b)("h2",s({},{id:"3-advanced-server-configuration-mods--fastdl"}),"3. Advanced server configuration (Mods / FastDL)",Object(o.b)("a",s({parentName:"h2"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#3-advanced-server-configuration-mods--fastdl"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("p",null,"You can read our guide ",Object(o.b)("a",s({parentName:"p"},{href:"loading-mods"}),"here")," about loading mods onto a dedicated server."),Object(o.b)("p",null,"To setup FastDL, read our guide ",Object(o.b)("a",s({parentName:"p"},{href:"fastdl"}),"here"),"."),Object(o.b)("h2",s({},{id:"4-optional-slimming-down-server-directory"}),"4. (Optional) Slimming down server directory",Object(o.b)("a",s({parentName:"h2"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#4-optional-slimming-down-server-directory"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"You can delete the ",Object(o.b)("inlineCode",{parentName:"li"},"video")," folder inside ",Object(o.b)("inlineCode",{parentName:"li"},"main"),"."),Object(o.b)("li",{parentName:"ul"},"You can remove certain files from IWDs (Use 7-Zip to open IWDs)"),Object(o.b)("li",{parentName:"ul"},"You can remove ",Object(o.b)("inlineCode",{parentName:"li"},"images")," from iw_00."),Object(o.b)("li",{parentName:"ul"},"You can remove the entire IWD of files iw_01 through iw_13."),Object(o.b)("li",{parentName:"ul"},"Do NOT touch iw_14."),Object(o.b)("li",{parentName:"ul"},"You can delete iw_15 through iw_20."),Object(o.b)("li",{parentName:"ul"},"Do NOT touch iw_21."),Object(o.b)("li",{parentName:"ul"},"You can remove ",Object(o.b)("inlineCode",{parentName:"li"},"images")," and ",Object(o.b)("inlineCode",{parentName:"li"},"sound")," from iw_22."),Object(o.b)("li",{parentName:"ul"},"You can delete iw_23."),Object(o.b)("li",{parentName:"ul"},"You can remove ",Object(o.b)("inlineCode",{parentName:"li"},"images")," from iw_24"),Object(o.b)("li",{parentName:"ul"},"You can delete iw_25."),Object(o.b)("li",{parentName:"ul"},"You can remove ",Object(o.b)("inlineCode",{parentName:"li"},"images")," and ",Object(o.b)("inlineCode",{parentName:"li"},"sound")," from iw_26."),Object(o.b)("li",{parentName:"ul"},"You can delete iw_27."),Object(o.b)("li",{parentName:"ul"},"You can remove ",Object(o.b)("inlineCode",{parentName:"li"},"images")," and ",Object(o.b)("inlineCode",{parentName:"li"},"sound")," from localized_english_iw00."),Object(o.b)("li",{parentName:"ul"},"You can delete localized_english_iw01 through localized_english_iw03."),Object(o.b)("li",{parentName:"ul"},"You can remove ",Object(o.b)("inlineCode",{parentName:"li"},"images")," and ",Object(o.b)("inlineCode",{parentName:"li"},"sound")," from localized_english_iw04."),Object(o.b)("li",{parentName:"ul"},"You can delete localized_english_iw05 and localized_english_iw06.")),Object(o.b)("p",null,Object(o.b)("img",s({parentName:"p"},{src:"/images/docs/server/t4/setting-up-a-server/Na25CV0.png",alt:"Final Image"}))),Object(o.b)("h2",s({},{id:"5-optional-install-a-server-management-tool-iw4madmin"}),"5. (Optional) Install a server management tool (IW4MAdmin)",Object(o.b)("a",s({parentName:"h2"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#5-optional-install-a-server-management-tool-iw4madmin"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("p",null,"Verify ",Object(o.b)("inlineCode",{parentName:"p"},'g_log "games_mp.log"')," is unique (in your server.cfg file)"),Object(o.b)(p,{variant:"tip",mdxType:"Alert"},Object(o.b)("p",null,"Set ",Object(o.b)("inlineCode",{parentName:"p"},"g_log")," to your server name for example if you are hosting a TDM and a Search and Destroy server your ",Object(o.b)("inlineCode",{parentName:"p"},"g_log"),"'s might look like this:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},'g_log "tdm_server.log"'),Object(o.b)("br",{parentName:"p"}),"\n",Object(o.b)("inlineCode",{parentName:"p"},'g_log "sd_server.log"'),"  ")),Object(o.b)("p",null,"Verify ",Object(o.b)("inlineCode",{parentName:"p"},"g_logSync")," is set to ",Object(o.b)("inlineCode",{parentName:"p"},"2"),".  "),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Download .NET Core 3.1.x Runtime or newer [",Object(o.b)("a",s({parentName:"li"},{href:"https://dotnet.microsoft.com/download/dotnet-core/thank-you/runtime-aspnetcore-3.1.4-windows-hosting-bundle-installer"}),"Windows"),"]/[",Object(o.b)("a",s({parentName:"li"},{href:"https://docs.microsoft.com/en-us/dotnet/core/install/linux-package-manager-ubuntu-1910"}),"Linux"),"]."),Object(o.b)("li",{parentName:"ol"},"Download ",Object(o.b)("a",s({parentName:"li"},{href:"https://github.com/RaidMax/IW4M-Admin/releases"}),"IW4MAdmin"),"."),Object(o.b)("li",{parentName:"ol"},"Follow the IW4MAdmin ",Object(o.b)("a",s({parentName:"li"},{href:"https://github.com/RaidMax/IW4M-Admin/wiki/Getting-Started"}),"setup guide"),".")),Object(o.b)("h2",s({},{id:"6-optional-hosting-a-second-server"}),"6. (Optional) Hosting a second server",Object(o.b)("a",s({parentName:"h2"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#6-optional-hosting-a-second-server"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("p",null,"Make a copy of the start.bat file and the ",Object(o.b)("inlineCode",{parentName:"p"},"server.cfg")," file and rename them.",Object(o.b)("br",{parentName:"p"}),"\n","Edit the ",Object(o.b)("inlineCode",{parentName:"p"},"server.cfg")," to meet your needs.",Object(o.b)("br",{parentName:"p"}),"\n","Edit the copy of the bat file to: use your new server key, use a new port, and use your new config file.",Object(o.b)("br",{parentName:"p"}),"\n","(You must forward the second port as well)",Object(o.b)("br",{parentName:"p"}),"\n","Start the server through the new .bat file.  "),Object(o.b)("h2",s({},{id:"additional-notes--faq"}),"Additional Notes / FAQ",Object(o.b)("a",s({parentName:"h2"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#additional-notes--faq"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("h3",s({},{id:"why-cant-i-find-my-server-hosted-at-home-while-others-can"}),"Why can't I find my server hosted at home while others can?",Object(o.b)("a",s({parentName:"h3"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#why-cant-i-find-my-server-hosted-at-home-while-others-can"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("p",null,"Your router probably doesn't support NAT-Loopback (aka. NAT-Reflection) and that's why it doesn't know how to forward the network traffic. In order to connect to your server, ",Object(o.b)("a",s({parentName:"p"},{href:"/docs/opening-console"}),"open the console")," and type ",Object(o.b)("inlineCode",{parentName:"p"},"connect 127.0.0.1:yourPort"),"\n(If you are hosting on the same machine you are playing on), If not, you will need to find your servers private IP address (same one you used for port forwarding) and connect using that. For example: ",Object(o.b)("inlineCode",{parentName:"p"},"connect 192.168.1.5:yourPort")),Object(o.b)("h3",s({},{id:"i-cant-open-my-game-while-my-server-is-running"}),"I can't open my game while my server is running?",Object(o.b)("a",s({parentName:"h3"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#i-cant-open-my-game-while-my-server-is-running"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("p",null,"This is due to the client having a check that only one copy is open at a time. Simply start the client first, then your server. ",Object(o.b)("strong",{parentName:"p"},"Note that if you do this, you will have to change your servers port to a different one as the client takes ",Object(o.b)("inlineCode",{parentName:"strong"},"4976")," when it starts.")),Object(o.b)("h3",s({},{id:"you-said-we-can-delete-game-files-to-save-disk-space-is-it-worth-it"}),"You said we can delete game files to save disk space, is it worth it?",Object(o.b)("a",s({parentName:"h3"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#you-said-we-can-delete-game-files-to-save-disk-space-is-it-worth-it"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("p",null,"We recommend it, the files to host MP and ZM servers from the same folder with all maps and modes require roughly 1.7GB instead of 22GB and HIGHLY speeds up loading times as unnecessary files are not loaded."),Object(o.b)("h3",s({},{id:"why-does-everyone-get-an-time-out-during-a-map-change"}),"Why does everyone get an time out during a map change?",Object(o.b)("a",s({parentName:"h3"},{className:"text-white ml-2 no-underline opacity-70 md-autolink",href:"#why-does-everyone-get-an-time-out-during-a-map-change"}),Object(o.b)("span",s({parentName:"a"},{className:"text-gray-700"}),"#"))),Object(o.b)("p",null,"We are not entirely sure but it seems to be related to certain dvars not being set to their default value. Only known dvar to cause this is ",Object(o.b)("inlineCode",{parentName:"p"},"party_maxplayers"),"."))}u.isMDXComponent=!0},MHok:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/server/t4/setting-up-a-server",function(){return a("Ifnm")}])}},[["MHok",0,1,3,2,4,5,6]]]);